pipeline {
  agent any
  trigger{
    pollSCM('H/2 * * * *')
  }

  stages {
    stage('checkout') {
      steps {
        git branch: 'master', url: 'https://github.com/1ms24mc049/my_repo'
      }
    }

    stage('compile') {
      steps {
        echo "compiling the python pgm"
        sh 'python3 hello.py'
      }
    }

    stage('run') {
      steps {
        echo "running the jpython pgm"
        
      }
    }
  }

  post {
    success {
      echo "Building and execution successful"
    }
    failure {
      echo "Build failed"
    }
  }
}
